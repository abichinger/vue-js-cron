import{u as k,r as S,a as ne}from"./setup-c55463b6.js";var le=Object.defineProperty,xe=(t,e,r)=>e in t?le(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,d=(t,e,r)=>(xe(t,typeof e!="symbol"?e+"":e,r),r),I=(t=>(t.Empty="empty",t.Value="value",t.Range="range",t.EveryX="everyX",t.Combined="combined",t.NoSpecific="noSpecific",t))(I||{}),T=(t=>(t.Prefix="prefix",t.Suffix="suffix",t.Text="text",t))(T||{});class fe{constructor(e){d(this,"field"),d(this,"itemMap"),this.field=e,this.itemMap=this.field.items.reduce((r,i)=>(r[i.value]=i,r),{})}get id(){return this.field.id}get items(){return this.field.items}get onChange(){return this.field.onChange}get segmentFactories(){return this.field.segmentFactories}get min(){return this.items[0].value}get max(){return this.items[this.items.length-1].value}getItem(e){return this.itemMap[e]}}function pe(t,e,r=1){const i=[];for(let n=t;n<=e;n+=r)i.push(n);return i}class de{constructor(e,r,i=1){return d(this,"start"),d(this,"end"),d(this,"step"),this.start=e,this.end=r,this.step=i,new Proxy(this,{get:function(n,a){const s=typeof a=="string"?parseInt(a):a;return typeof s=="number"&&s>=0&&s<=n.length?n.start+n.step*s:Reflect.get(n,a)}})}get length(){return(this.end-this.start)/this.step+1}[Symbol.iterator](){let e=-1;return{next:()=>({value:this[++e],done:this[e+1]===void 0})}}}function M(t,e,r=n=>n+"",i=n=>n+""){const n=[];for(const a of new de(t,e))n.push({text:r(a),alt:i(a),value:a});return n}function ce(t,e="crontab"){const r=(n,a=!1)=>new Date(2021,n-1,1).toLocaleDateString(t,{month:a?"short":"long"}),i=(n,a=!1)=>new Date(2021,0,3+n).toLocaleDateString(t,{weekday:a?"short":"long"});return{secondItems:M(0,59,n=>J(n,2)),minuteItems:M(0,59,n=>J(n,2)),hourItems:M(0,23,n=>J(n,2)),dayItems:M(1,31),monthItems:M(1,12,r,n=>r(n,!0)),dayOfWeekItems:e==="quartz"?M(1,7,n=>i(n-1),n=>i(n-1,!0)):M(0,6,i,n=>i(n,!0))}}function J(t,e){const r=t+"";return r.length<e?new Array(e-r.length).fill("0").join("")+t:r}function L(t){return t&&typeof t=="object"&&!Array.isArray(t)}function Y(t,...e){if(!L(t)||e.length===0)return;const r=e.shift();if(L(r))for(const[i,n]of Object.entries(r))L(n)?(L(t[i])||(t[i]={}),Y(t[i],r[i])):t[i]=r[i];return e.length>0&&Y(t,e),t}function ie(t,...e){if(e.length===0)return t;for(const r of e[0])if(r in t){const i=ie(t[r],...e.slice(1));if(i!==void 0)return i}}function me(t){for(let e=1;e<t.length;e++)if(t[e-1]+1!==t[e])return!1;return!0}function he(){throw new Error("not implemented")}function ve(t,e,r=!0){const i=[];for(let n=0;n<t.length;n+=e){const a=t.slice(n,n+e);for(;r&&a.length<e;)a.push(null);i.push(a)}return i}class H{constructor(e){d(this,"field"),d(this,"type",I.NoSpecific),this.field=e}toCron(){return"?"}toArray(){return[]}get items(){return{}}static fromString(e,r){return e!=="?"?null:new H(r)}}class X{constructor(e){d(this,"field"),d(this,"type",I.Empty),this.field=e}toCron(){return"*"}toArray(){return[]}get items(){return{}}static fromString(e,r){return e!=="*"?null:new X(r)}static fromArray(e,r){const{items:i}=r;if(e.length===0)return new X(r);if(e.length!==i.length)return null;for(const n of i)if(!e.includes(n.value))return null;return me(i.map(n=>n.value))?new X(r):null}}const ae=class Z{constructor(e,r,i){d(this,"field"),d(this,"type",I.Range),d(this,"start"),d(this,"end"),this.field=e,this.start=r,this.end=i}toCron(){return`${this.start}-${this.end}`}toArray(){const e=this.start,r=this.end;return pe(e,r)}get items(){return{start:this.field.itemMap[this.start],end:this.field.itemMap[this.end]}}static fromString(e,r){if(!Z.re.test(e))return null;const{min:i,max:n}=r,a=e.split("-"),s=parseInt(a[0]),o=parseInt(a[1]);return s>o||s<i||o>n?null:new Z(r,s,o)}};d(ae,"re",/^\d+-\d+$/);let z=ae;const Q=(t,e,r)=>{const i=[];for(let n=e;n<=r;n+=t)i.push(n);return i},se=class D{constructor(e,r,i,n){d(this,"field"),d(this,"type",I.EveryX),d(this,"every"),d(this,"start"),d(this,"end"),this.field=e,this.every=r,this.start=i??e.min,this.end=n??e.max}toCron(){return this.start==this.field.min&&this.end==this.field.max?`*/${this.every}`:`${this.start}-${this.end}/${this.every}`}toArray(){return Q(this.every,this.start,this.end)}get items(){return{every:this.field.itemMap[this.every],start:this.field.itemMap[this.start],end:this.field.itemMap[this.end]}}static fromString(e,r){if(!D.re.test(e))return null;const[i,n]=e.split("/"),a=parseInt(n);if(a>r.items.length)return null;const s=e.split("-").map(f=>parseInt(f)),o=i=="*"?r.min:s[0],u=i=="*"?r.max:s[1];return Q(a,o,u).length==0?null:new D(r,a,o,u)}static fromArray(e,r){const{min:i,max:n}=r;if(e.length<3)return null;const a=e[1]-e[0];if(a<=1||e[0]!=i)return null;const s=e[e.length-1];if(n-s>=a)return null;for(let o=2;o<e.length;o++)if(e[o]-e[o-1]!=a)return null;return new D(r,a,i,n)}};d(se,"re",/^(\*|\d+-\d+)\/\d+$/);let R=se;class E{constructor(e,r){d(this,"field"),d(this,"type",I.Value),d(this,"value"),this.field=e,this.value=r}toCron(){return`${this.value}`}toArray(){return[this.value]}get items(){return{value:this.field.itemMap[this.value]}}static fromString(e,r){const{min:i,max:n}=r,a=parseInt(e);return String(a)===e&&a>=i&&a<=n?new E(r,a):null}static fromArray(e,r){const{min:i,max:n}=r;if(e.length!=1)return null;const a=e[0];return a<i||a>n?null:a}}const oe=class F{constructor(e,r=[]){d(this,"field"),d(this,"segments"),this.field=e,this.segments=r}get type(){return this.segments.length==1?this.segments[0].type:I.Range}addSegment(e){this.segments.push(e)}toCron(){return this.segments.map(e=>e.toCron()).join(",")}toArray(){const e=new Set;for(const r of this.segments)r.toArray().forEach(i=>e.add(i));return Array.from(e)}get items(){return he()}static fromString(e,r){const i=r.segmentFactories??F.segmentFactories;let n=[];for(const a of e.split(",")){if(a==="*"){n=[new X(r)];break}let s=null;for(const o of i)if(s=o(a,r),s!==null)break;if(s===null)return null;n.push(s)}return new F(r,n)}static fromArray(e,r){const{min:i,max:n}=r,a=e[0],s=e[e.length-1];if(a<i||s>n)return null;const o=[];let u=0;for(let f=0;f<e.length;f++)(e[f+1]===void 0||e[f+1]-e[f]>1)&&(f===u?o.push(new E(r,e[u])):o.push(new z(r,e[u],e[f])),u=f+1);return new F(r,o)}};d(oe,"segmentFactories",[X.fromString,R.fromString,z.fromString,E.fromString]);let G=oe;function _(t,e){return G.fromString(t,e)}function ye(t,e){for(const r of[X.fromArray,R.fromArray,G.fromArray]){const i=r(t,e);if(i!=null)return i}return null}/*!
 * mustache.js - Logic-less {{mustache}} templates with JavaScript
 * http://github.com/janl/mustache.js
 */var ge=Object.prototype.toString,$=Array.isArray||function(t){return ge.call(t)==="[object Array]"};function K(t){return typeof t=="function"}function we(t){return $(t)?"array":typeof t}function N(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function ee(t,e){return t!=null&&typeof t=="object"&&e in t}function Se(t,e){return t!=null&&typeof t!="object"&&t.hasOwnProperty&&t.hasOwnProperty(e)}var ke=RegExp.prototype.test;function Ae(t,e){return ke.call(t,e)}var We=/\S/;function Oe(t){return!Ae(We,t)}var qe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"};function Ce(t){return String(t).replace(/[&<>"'`=\/]/g,function(e){return qe[e]})}var be=/\s*/,Xe=/\s+/,te=/\s*=/,je=/\s*\}/,Me=/#|\^|\/|>|\{|&|=|!/;function Te(t,e){if(!t)return[];var r=!1,i=[],n=[],a=[],s=!1,o=!1,u="",f=0;function y(){if(s&&!o)for(;a.length;)delete n[a.pop()];else a=[];s=!1,o=!1}var h,v,b;function C(O){if(typeof O=="string"&&(O=O.split(Xe,2)),!$(O)||O.length!==2)throw new Error("Invalid tags: "+O);h=new RegExp(N(O[0])+"\\s*"),v=new RegExp("\\s*"+N(O[1])),b=new RegExp("\\s*"+N("}"+O[1]))}C(e||q.tags);for(var l=new U(t),c,x,m,W,j,p;!l.eos();){if(c=l.pos,m=l.scanUntil(h),m)for(var g=0,w=m.length;g<w;++g)W=m.charAt(g),Oe(W)?(a.push(n.length),u+=W):(o=!0,r=!0,u+=" "),n.push(["text",W,c,c+1]),c+=1,W===`
`&&(y(),u="",f=0,r=!1);if(!l.scan(h))break;if(s=!0,x=l.scan(Me)||"name",l.scan(be),x==="="?(m=l.scanUntil(te),l.scan(te),l.scanUntil(v)):x==="{"?(m=l.scanUntil(b),l.scan(je),l.scanUntil(v),x="&"):m=l.scanUntil(v),!l.scan(v))throw new Error("Unclosed tag at "+l.pos);if(x==">"?j=[x,m,c,l.pos,u,f,r]:j=[x,m,c,l.pos],f++,n.push(j),x==="#"||x==="^")i.push(j);else if(x==="/"){if(p=i.pop(),!p)throw new Error('Unopened section "'+m+'" at '+c);if(p[1]!==m)throw new Error('Unclosed section "'+p[1]+'" at '+c)}else x==="name"||x==="{"||x==="&"?o=!0:x==="="&&C(m)}if(y(),p=i.pop(),p)throw new Error('Unclosed section "'+p[1]+'" at '+l.pos);return Ee(Ie(n))}function Ie(t){for(var e=[],r,i,n=0,a=t.length;n<a;++n)r=t[n],r&&(r[0]==="text"&&i&&i[0]==="text"?(i[1]+=r[1],i[3]=r[3]):(e.push(r),i=r));return e}function Ee(t){for(var e=[],r=e,i=[],n,a,s=0,o=t.length;s<o;++s)switch(n=t[s],n[0]){case"#":case"^":r.push(n),i.push(n),r=n[4]=[];break;case"/":a=i.pop(),a[5]=n[2],r=i.length>0?i[i.length-1][4]:e;break;default:r.push(n)}return e}function U(t){this.string=t,this.tail=t,this.pos=0}U.prototype.eos=function(){return this.tail===""};U.prototype.scan=function(t){var e=this.tail.match(t);if(!e||e.index!==0)return"";var r=e[0];return this.tail=this.tail.substring(r.length),this.pos+=r.length,r};U.prototype.scanUntil=function(t){var e=this.tail.search(t),r;switch(e){case-1:r=this.tail,this.tail="";break;case 0:r="";break;default:r=this.tail.substring(0,e),this.tail=this.tail.substring(e)}return this.pos+=r.length,r};function V(t,e){this.view=t,this.cache={".":this.view},this.parent=e}V.prototype.push=function(t){return new V(t,this)};V.prototype.lookup=function(t){var e=this.cache,r;if(e.hasOwnProperty(t))r=e[t];else{for(var i=this,n,a,s,o=!1;i;){if(t.indexOf(".")>0)for(n=i.view,a=t.split("."),s=0;n!=null&&s<a.length;)s===a.length-1&&(o=ee(n,a[s])||Se(n,a[s])),n=n[a[s++]];else n=i.view[t],o=ee(i.view,t);if(o){r=n;break}i=i.parent}e[t]=r}return K(r)&&(r=r.call(this.view)),r};function A(){this.templateCache={_cache:{},set:function(t,e){this._cache[t]=e},get:function(t){return this._cache[t]},clear:function(){this._cache={}}}}A.prototype.clearCache=function(){typeof this.templateCache<"u"&&this.templateCache.clear()};A.prototype.parse=function(t,e){var r=this.templateCache,i=t+":"+(e||q.tags).join(":"),n=typeof r<"u",a=n?r.get(i):void 0;return a==null&&(a=Te(t,e),n&&r.set(i,a)),a};A.prototype.render=function(t,e,r,i){var n=this.getConfigTags(i),a=this.parse(t,n),s=e instanceof V?e:new V(e,void 0);return this.renderTokens(a,s,r,t,i)};A.prototype.renderTokens=function(t,e,r,i,n){for(var a="",s,o,u,f=0,y=t.length;f<y;++f)u=void 0,s=t[f],o=s[0],o==="#"?u=this.renderSection(s,e,r,i,n):o==="^"?u=this.renderInverted(s,e,r,i,n):o===">"?u=this.renderPartial(s,e,r,n):o==="&"?u=this.unescapedValue(s,e):o==="name"?u=this.escapedValue(s,e,n):o==="text"&&(u=this.rawValue(s)),u!==void 0&&(a+=u);return a};A.prototype.renderSection=function(t,e,r,i,n){var a=this,s="",o=e.lookup(t[1]);function u(h){return a.render(h,e,r,n)}if(o){if($(o))for(var f=0,y=o.length;f<y;++f)s+=this.renderTokens(t[4],e.push(o[f]),r,i,n);else if(typeof o=="object"||typeof o=="string"||typeof o=="number")s+=this.renderTokens(t[4],e.push(o),r,i,n);else if(K(o)){if(typeof i!="string")throw new Error("Cannot use higher-order sections without the original template");o=o.call(e.view,i.slice(t[3],t[5]),u),o!=null&&(s+=o)}else s+=this.renderTokens(t[4],e,r,i,n);return s}};A.prototype.renderInverted=function(t,e,r,i,n){var a=e.lookup(t[1]);if(!a||$(a)&&a.length===0)return this.renderTokens(t[4],e,r,i,n)};A.prototype.indentPartial=function(t,e,r){for(var i=e.replace(/[^ \t]/g,""),n=t.split(`
`),a=0;a<n.length;a++)n[a].length&&(a>0||!r)&&(n[a]=i+n[a]);return n.join(`
`)};A.prototype.renderPartial=function(t,e,r,i){if(r){var n=this.getConfigTags(i),a=K(r)?r(t[1]):r[t[1]];if(a!=null){var s=t[6],o=t[5],u=t[4],f=a;o==0&&u&&(f=this.indentPartial(a,u,s));var y=this.parse(f,n);return this.renderTokens(y,e,r,f,i)}}};A.prototype.unescapedValue=function(t,e){var r=e.lookup(t[1]);if(r!=null)return r};A.prototype.escapedValue=function(t,e,r){var i=this.getConfigEscape(r)||q.escape,n=e.lookup(t[1]);if(n!=null)return typeof n=="number"&&i===q.escape?String(n):i(n)};A.prototype.rawValue=function(t){return t[1]};A.prototype.getConfigTags=function(t){return $(t)?t:t&&typeof t=="object"?t.tags:void 0};A.prototype.getConfigEscape=function(t){if(t&&typeof t=="object"&&!$(t))return t.escape};var q={name:"mustache.js",version:"4.2.0",tags:["{{","}}"],clearCache:void 0,escape:void 0,parse:void 0,render:void 0,Scanner:void 0,Context:void 0,Writer:void 0,set templateCache(t){P.templateCache=t},get templateCache(){return P.templateCache}},P=new A;q.clearCache=function(){return P.clearCache()};q.parse=function(t,e){return P.parse(t,e)};q.render=function(t,e,r,i){if(typeof t!="string")throw new TypeError('Invalid template! Template should be a "string" but "'+we(t)+'" was given as the first argument for mustache#render(template, view, partials)');return P.render(t,e,r,i)};q.escape=Ce;q.Scanner=U;q.Context=V;q.Writer=A;const re={"*":{prefix:"每",suffix:"",text:"未知","*":{empty:{text:"每 {{field.id}}"},value:{text:"{{value.text}}"},range:{text:"{{start.text}}-{{end.text}}"},everyX:{text:"每 {{every.value}}"}},month:{"*":{prefix:"的"},empty:{text:"每月"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},day:{"*":{prefix:"的"},empty:{text:"每日"},value:{text:"{{value.alt}}号"},range:{text:"{{start.alt}}号-{{end.alt}}号"}},dayOfWeek:{"*":{prefix:"的"},empty:{text:"一周的每一天"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},hour:{"*":{prefix:"的"},empty:{text:"每小时"}},minute:{"*":{prefix:":"},empty:{text:"每分钟"}},second:{"*":{prefix:":"},empty:{text:"每秒"}}},minute:{text:"分"},hour:{text:"小时",minute:{"*":{prefix:":",suffix:"分钟"},empty:{text:"每"}}},day:{text:"天"},week:{text:"周",dayOfWeek:{"*":{prefix:"的"},empty:{text:"每天"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}}},month:{text:"月",dayOfWeek:{"*":{prefix:"和"}},day:{"*":{prefix:"的"}}},year:{text:"年",dayOfWeek:{"*":{prefix:"和"}}},"q-second":{text:"秒"},"q-minute":{text:"分钟",second:{"*":{prefix:":",suffix:"秒"},empty:{text:"每"}}},"q-hour":{text:"小时",minute:{"*":{prefix:":"}}}},Ve={"*":{prefix:"Hver",suffix:"",text:"Ukendt","*":{value:{text:"{{value.text}}"},range:{text:"{{start.text}}-{{end.text}}"},everyX:{text:"hver {{every.value}}"}},month:{"*":{prefix:"i"},empty:{text:"hver måned"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},day:{"*":{prefix:"og"},empty:{text:"hver dag i måneden"},value:{text:"{{value.alt}}."},range:{text:"{{start.alt}}.-{{end.alt}}."},noSpecific:{text:"ingen specifik dag"}},dayOfWeek:{"*":{prefix:"på"},empty:{text:"hver dag i ugen"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"},noSpecific:{text:"ingen specifik dag i ugen"}},hour:{"*":{prefix:"klokken"},empty:{text:"hver time"}},minute:{"*":{prefix:":"},empty:{text:"hvert minut"}},second:{"*":{prefix:":"},empty:{text:"hvert sekund"}}},second:{prefix:"Hvert"},minute:{prefix:"Hvert",text:"Minut"},hour:{text:"Time",minute:{"*":{prefix:"ved",suffix:"minutter"},empty:{text:"alle"}}},day:{text:"Dag"},week:{text:"Uge"},month:{text:"Måned",dayOfWeek:{"*":{prefix:"og"}}},year:{prefix:"Hvert",text:"År",dayOfWeek:{"*":{prefix:"og"}}},"q-second":{text:"Sekund"},"q-minute":{text:"Minut",second:{"*":{suffix:"sekund(er)"},empty:{text:"hvert"}}},"q-hour":{text:"Time",minute:{"*":{prefix:"på"}}}},$e={"*":{prefix:"Jede",suffix:"",text:"Unknown","*":{value:{text:"{{value.text}}"},range:{text:"{{start.text}}-{{end.text}}"},everyX:{text:"alle {{every.value}}"}},month:{"*":{prefix:"im"},empty:{prefix:"in",text:"jedem Monat"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},day:{"*":{prefix:"den"},empty:{prefix:"an",text:"jedem Tag"},everyX:{prefix:"",text:"alle {{every.value}} Tage"},noSpecific:{prefix:"an",text:"keinem bestimmten Tag"}},dayOfWeek:{"*":{prefix:"am"},empty:{prefix:"an",text:"jedem Wochentag"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"},noSpecific:{prefix:"und",text:"keinem bestimmten Wochentag"}},hour:{"*":{prefix:"um"},empty:{prefix:"zu",text:"jeder Stunde"},everyX:{prefix:"",text:"alle {{every.value}} Stunden"}},minute:{"*":{prefix:":"},empty:{text:"jede Minute"},everyX:{prefix:"",text:"alle {{every.value}} Minuten"}},second:{"*":{prefix:":"},empty:{text:"jede Sekunde"},everyX:{prefix:"",text:"alle {{every.value}} Sekunden"}}},minute:{text:"Minute"},hour:{text:"Stunde",minute:{"*":{prefix:"zu",suffix:"Minute(n)"},empty:{text:"jeder"}}},day:{prefix:"Jeden",text:"Tag"},week:{text:"Woche"},month:{prefix:"Jedes",text:"Monat"},year:{prefix:"Jedes",text:"Jahr"},"q-second":{text:"Sekunde"},"q-minute":{text:"Minute",second:{"*":{prefix:"und"}}},"q-hour":{text:"Stunde",minute:{"*":{prefix:"und"}},second:{"*":{prefix:"und"}}}},Pe={"*":{prefix:"Every",suffix:"",text:"Unknown","*":{empty:{text:"every {{field.id}}"},value:{text:"{{value.text}}"},range:{text:"{{start.text}}-{{end.text}}"},everyX:{text:"every {{every.value}}"}},month:{"*":{prefix:"in"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},day:{"*":{prefix:"on"},noSpecific:{text:"no specific day"}},dayOfWeek:{"*":{prefix:"on"},empty:{text:"every day of the week"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"},noSpecific:{text:"no specific day of the week"}},hour:{"*":{prefix:"at"}},minute:{"*":{prefix:":"}},second:{"*":{prefix:":"}}},minute:{text:"Minute"},hour:{text:"Hour",minute:{"*":{prefix:"at",suffix:"minute(s)"},empty:{text:"every"}}},day:{text:"Day"},week:{text:"Week"},month:{text:"Month",dayOfWeek:{"*":{prefix:"and"}}},year:{text:"Year",dayOfWeek:{"*":{prefix:"and"}}},"q-second":{text:"Second"},"q-minute":{text:"Minute",second:{"*":{prefix:"at",suffix:"second(s)"},empty:{text:"every"}}},"q-hour":{text:"Hour",minute:{"*":{prefix:"at"}}}},Ue={"*":{prefix:"todos los",suffix:"",text:"Desconocido","*":{empty:{text:"todos los {{ field.id }}"},value:{text:"{{ value.text }}"},range:{text:"{{ start.text }}-{{ end.text }}"},everyX:{text:"todos/as {{ every.value }}"}},month:{"*":{prefix:"en"},empty:{text:"todos los meses"},value:{text:"{{ value.alt }}"},range:{text:"{{ start.alt }}-{{ end.alt }}"}},day:{"*":{prefix:"en"},empty:{text:"todos los días"},value:{text:"los días {{ value.alt }}"}},dayOfWeek:{"*":{prefix:"de"},empty:{text:"todos los días de la semana"},value:{text:"los {{ value.alt }}"},range:{text:"{{ start.alt }}-{{ end.alt }}"}},hour:{"*":{prefix:"a"},empty:{text:"todas las horas"},value:{text:"las {{ value.text }}"}},minute:{"*":{prefix:":"},empty:{text:"todos los minutos"}}},minute:{prefix:"todos los",text:"minutos"},hour:{prefix:"todas las",text:"horas",minute:{"*":{prefix:"a los",suffix:"minutos"},empty:{text:"todos",prefix:"a",suffix:"los minutos"}}},day:{text:"Días"},week:{text:"Semanas"},month:{text:"Meses",dayOfWeek:{"*":{prefix:"y"}}},year:{text:"años",dayOfWeek:{"*":{prefix:"y"}}}},Le={"*":{prefix:"Toutes",suffix:"",text:"Inconnu","*":{value:{text:"{{value.text}}"},range:{text:"{{start.text}}-{{end.text}}"},everyX:{text:"tous les {{every.value}}"}},month:{"*":{prefix:"en"},empty:{prefix:"en",text:"tous les mois"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},day:{"*":{prefix:"le"},empty:{prefix:"à",text:"tous les jours"},everyX:{prefix:"",text:"tous les {{every.value}} jours"},noSpecific:{prefix:"à",text:"aucun jour particulier"}},dayOfWeek:{"*":{prefix:"le"},empty:{prefix:"à",text:"tous les jours de la semaine"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"},noSpecific:{prefix:"et",text:"aucun jour de la semaine particulier"}},hour:{"*":{prefix:"à"},empty:{prefix:"à",text:"toutes les heures"},everyX:{prefix:"",text:"toutes les {{every.value}} heures"}},minute:{"*":{prefix:":"},empty:{text:"toutes les minutes"},everyX:{prefix:"",text:"toutes les {{every.value}} minutes"}},second:{"*":{prefix:":"},empty:{text:"toutes les secondes"},everyX:{prefix:"",text:"toutes les {{every.value}} secondes"}}},minute:{text:"Minute"},hour:{text:"Heure",minute:{"*":{prefix:"à",suffix:"minute(s)"},empty:{text:"toutes"}}},day:{prefix:"Tous",text:"Jour"},week:{text:"Semaine"},month:{prefix:"Tous",text:"Mois"},year:{prefix:"Tous",text:"Année"},"q-second":{text:"Seconde"},"q-minute":{text:"Minute",second:{"*":{prefix:"et"}}},"q-hour":{text:"Heure",minute:{"*":{prefix:"et"}},second:{"*":{prefix:"et"}}}},De={"*":{prefix:"בכל",suffix:"",text:"לא ידוע","*":{value:{text:"{{value.text}}"},range:{text:"{{start.text}}-{{end.text}}"},everyX:{text:"כל {{every.value}}"}},month:{"*":{prefix:"ב"},empty:{text:"כל חודש"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},day:{"*":{prefix:"ב"},empty:{text:"כל יום"},value:{text:"יום {{value.alt}} לחודש"},noSpecific:{text:"ללא יום מוגדר"}},dayOfWeek:{"*":{prefix:"ב"},empty:{text:"כל יום מימות השבוע"},value:{text:"ימי {{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"},noSpecific:{text:"ללא יום בשבוע מוגדר"}},hour:{"*":{prefix:"ב"},empty:{text:"כל שעה"},value:{text:"שעה {{value.text}}"}},minute:{"*":{prefix:":"},empty:{text:"כל דקה"}},second:{"*":{prefix:":"},empty:{text:"כל שניה"}}},minute:{text:"דקה"},hour:{text:"שעה",minute:{"*":{prefix:"ב",suffix:"דקות"},empty:{text:"כל"}}},day:{text:"יום"},week:{text:"שבוע"},month:{text:"חודש",dayOfWeek:{"*":{prefix:"ו"}}},year:{text:"שנה",dayOfWeek:{"*":{prefix:"ו"}}},"q-second":{text:"שניה"},"q-minute":{text:"דקה",second:{"*":{prefix:"ב",suffix:"שניות"},empty:{text:"כל"}}},"q-hour":{text:"שעה",minute:{"*":{prefix:"ב"}}}},Fe={"*":{prefix:"हर",suffix:"",text:"अज्ञात","*":{value:{text:"{{value.text}}"},range:{text:"{{start.text}}-{{end.text}}"},everyX:{text:"{{every.value}} हर"}},month:{"*":{prefix:"में"},empty:{prefix:"के",text:"हर महीने"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},day:{"*":{prefix:"के"},empty:{prefix:"पर",text:"हर दिन"},everyX:{prefix:"",text:"{{every.value}} दिन हर"},noSpecific:{prefix:"पर",text:"कोई विशेष दिन नहीं"}},dayOfWeek:{"*":{prefix:"पर"},empty:{prefix:"पर",text:"हर सप्ताह"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"},noSpecific:{prefix:"और",text:"कोई विशेष सप्ताह नहीं"}},hour:{"*":{prefix:"को"},empty:{prefix:"पर",text:"हर घंटे"},everyX:{prefix:"",text:"{{every.value}} घंटे हर"}},minute:{"*":{prefix:":"},empty:{text:"हर मिनट"},everyX:{prefix:"",text:"{{every.value}} मिनट हर"}},second:{"*":{prefix:":"},empty:{text:"हर सेकंड"},everyX:{prefix:"",text:"{{every.value}} सेकंड हर"}}},minute:{text:"मिनट"},hour:{text:"घंटा",minute:{"*":{prefix:"पर",suffix:"मिनट"},empty:{text:"हर"}}},day:{prefix:"हर",text:"दिन"},week:{text:"सप्ताह"},month:{prefix:"हर",text:"महीना"},year:{prefix:"हर",text:"साल"},"q-second":{text:"सेकंड"},"q-minute":{text:"मिनट",second:{"*":{prefix:"और"}}},"q-hour":{text:"घंटा",minute:{"*":{prefix:"और"}},second:{"*":{prefix:"और"}}}},He={"*":{prefix:"毎",suffix:"",text:"不明","*":{value:{text:"{{value.text}}"},range:{text:"{{start.text}}-{{end.text}}"},everyX:{text:"{{every.value}}ごとに"}},month:{"*":{prefix:"に"},empty:{prefix:"の",text:"毎月"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},day:{"*":{prefix:"の"},empty:{prefix:"に",text:"毎日"},everyX:{prefix:"",text:"{{every.value}}日ごとに"},noSpecific:{prefix:"に",text:"特定の日はなし"}},dayOfWeek:{"*":{prefix:"の"},empty:{prefix:"に",text:"毎週"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"},noSpecific:{prefix:"と",text:"特定の曜日はなし"}},hour:{"*":{prefix:"の"},empty:{prefix:"に",text:"毎時"},everyX:{prefix:"",text:"{{every.value}}時間ごとに"}},minute:{"*":{prefix:":"},empty:{text:"毎分"},everyX:{prefix:"",text:"{{every.value}}分ごとに"}},second:{"*":{prefix:":"},empty:{text:"毎秒"},everyX:{prefix:"",text:"{{every.value}}秒ごとに"}}},minute:{text:"分"},hour:{text:"時",minute:{"*":{prefix:"に",suffix:"分"},empty:{text:"毎"}}},day:{prefix:"毎",text:"日"},week:{text:"週"},month:{prefix:"毎",text:"月"},year:{prefix:"毎",text:"年"},"q-second":{text:"秒"},"q-minute":{text:"分",second:{"*":{prefix:"と"}}},"q-hour":{text:"時",minute:{"*":{prefix:"と"}},second:{"*":{prefix:"と"}}}},ze={"*":{prefix:"매",suffix:"",text:"알 수 없음","*":{value:{text:"{{value.text}}"},range:{text:"{{start.text}}-{{end.text}}"},everyX:{text:"{{every.value}}마다"}},month:{"*":{prefix:"에"},empty:{prefix:"의",text:"매월"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},day:{"*":{prefix:"의"},empty:{prefix:"에",text:"매일"},everyX:{prefix:"",text:"{{every.value}}일마다"},noSpecific:{prefix:"에",text:"특정한 날 없음"}},dayOfWeek:{"*":{prefix:"의"},empty:{prefix:"에",text:"매주"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"},noSpecific:{prefix:"과",text:"특정한 요일 없음"}},hour:{"*":{prefix:"의"},empty:{prefix:"에",text:"매시"},everyX:{prefix:"",text:"{{every.value}}시간마다"}},minute:{"*":{prefix:":"},empty:{text:"매분"},everyX:{prefix:"",text:"{{every.value}}분마다"}},second:{"*":{prefix:":"},empty:{text:"매초"},everyX:{prefix:"",text:"{{every.value}}초마다"}}},minute:{text:"분"},hour:{text:"시",minute:{"*":{prefix:"에",suffix:"분"},empty:{text:"매"}}},day:{prefix:"매",text:"일"},week:{text:"주"},month:{prefix:"매",text:"월"},year:{prefix:"매",text:"년"},"q-second":{text:"초"},"q-minute":{text:"분",second:{"*":{prefix:"와"}}},"q-hour":{text:"시",minute:{"*":{prefix:"와"}},second:{"*":{prefix:"와"}}}},Re={"*":{prefix:"Todo(a)",suffix:"",text:"Desconhecido","*":{empty:{text:"todo {{field.id}}"},value:{text:"{{value.text}}"},range:{text:"{{start.text}}-{{end.text}}"},everyX:{text:"todo {{every.value}}"}},month:{"*":{prefix:"de"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"},empty:{text:"todo mês"}},day:{"*":{prefix:"no(s) dia(s)"},empty:{text:"todos"}},dayOfWeek:{"*":{prefix:"de"},empty:{text:"todos dias da semana"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},hour:{"*":{prefix:"às"},empty:{text:"cada hora"}},minute:{"*":{prefix:":"},empty:{text:"cada minuto"}}},minute:{text:"Minuto"},hour:{text:"Hora",minute:{"*":{prefix:"e",suffix:"minuto(s)"},empty:{text:"cada"}}},day:{text:"Dia"},week:{text:"Semana"},month:{text:"Mês",dayOfWeek:{"*":{prefix:"e de"}}},year:{text:"Ano",dayOfWeek:{"*":{prefix:"e de"}}}},Je={"*":{prefix:"Каждый",suffix:"",text:"Неизвестно","*":{value:{text:"{{value.text}}"},range:{text:"{{start.text}}-{{end.text}}"},everyX:{text:"каждый {{every.value}}"}},month:{"*":{prefix:"в"},empty:{prefix:"в",text:"каждом месяце"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"}},day:{"*":{prefix:"в"},empty:{prefix:"в",text:"каждый день"},everyX:{prefix:"",text:"каждые {{every.value}} дня"},noSpecific:{prefix:"в",text:"нет определенного дня"}},dayOfWeek:{"*":{prefix:"по"},empty:{prefix:"по",text:"каждому дню недели"},value:{text:"{{value.alt}}"},range:{text:"{{start.alt}}-{{end.alt}}"},noSpecific:{prefix:"и",text:"нет определенного дня недели"}},hour:{"*":{prefix:"в"},empty:{prefix:"в",text:"каждый час"},everyX:{prefix:"",text:"каждые {{every.value}} часа"}},minute:{"*":{prefix:":"},empty:{text:"каждую минуту"},everyX:{prefix:"",text:"каждые {{every.value}} минуты"}},second:{"*":{prefix:":"},empty:{text:"каждую секунду"},everyX:{prefix:"",text:"каждые {{every.value}} секунды"}}},minute:{text:"Минута"},hour:{text:"Час",minute:{"*":{prefix:"в",suffix:"минут(а/ы)"},empty:{text:"каждый"}}},day:{prefix:"Каждый",text:"День"},week:{text:"Неделя"},month:{prefix:"Каждый",text:"Месяц"},year:{prefix:"Каждый",text:"Год"},"q-second":{text:"Секунда"},"q-minute":{text:"Минута",second:{"*":{prefix:"и"}}},"q-hour":{text:"Час",minute:{"*":{prefix:"и"}},second:{"*":{prefix:"и"}}}},B={empty:{},en:Pe,de:$e,pt:Re,es:Ue,da:Ve,zh:re,"zh-cn":re,he:De,ru:Je,fr:Le,hi:Fe,ja:He,ko:ze};class Ne{constructor(e){d(this,"dict"),this.dict=e}getLocaleStr(...e){const r=e.map(i=>[i,"*"]);return ie(this.dict,...r)||""}render(e,r,i,n,a){const s=this.getLocaleStr(e,r,i,n);return q.render(s,a||{})}}function Be(t,e){const[r]=t.split("-"),i=B[t.toLowerCase()]||B[r.toLowerCase()]||B.en,n=Y(i,e||{});return new Ne(n)}function Ye(t){const{period:e,field:r,initialCron:i="*",locale:n}=t,a=S(i),s=S(""),o=S([]),u=S(""),f=S(""),y=S(""),h=l=>{const c=l instanceof G?l.segments:[l];u.value=c.map(x=>n.render(e.value.id,r.id,x.type,T.Text,{field:r,...x.items})).join(","),f.value=n.getLocaleStr(e.value.id,r.id,l.type,T.Prefix),y.value=n.getLocaleStr(e.value.id,r.id,l.type,T.Suffix)},v=l=>{const c=_(l,r);c!=null?(o.value=c.toArray(),h(c)):s.value=`${l} is not a valid cron segment (${r.id})`},b=l=>{if(a.value=="?"&&l.length==0)return;const c=ye(l,r);c!=null?(a.value=c.toCron(),h(c)):s.value=`failed to convert ${l} to cron (${r.id})`};v(i);const C=l=>{const c=Array.from(l).sort((x,m)=>x>m?1:-1);o.value=c};return k(a,l=>{v(l)}),k(o,l=>{b(l)}),k(e,()=>{const l=_(a.value,r);l!=null&&h(l)}),{id:r.id,items:r.items,cron:a,selected:o,error:s,select:C,text:u,prefix:f,suffix:y}}function ue(t,e="*"){return new Array(t).fill(e).join(" ")}function Ze(t){return t!==void 0}class Ge{constructor(){d(this,"locale","en"),d(this,"format","crontab")}initialValue(e,r="*"){return ue(e,r)}fields(e,r){const i=e=="quartz"||e=="spring",n=ce(r,e),a=s=>(o,{segmentMap:u})=>{if(o.cron.value=="?")return;const f=u.get(s);f&&(f.cron.value="?")};return[...i?[{id:"second",items:n.secondItems}]:[],{id:"minute",items:n.minuteItems},{id:"hour",items:n.hourItems},{id:"day",items:n.dayItems,onChange:i?a("dayOfWeek"):void 0,segmentFactories:i?[X.fromString,H.fromString,R.fromString,z.fromString,E.fromString]:void 0},{id:"month",items:n.monthItems},{id:"dayOfWeek",items:n.dayOfWeekItems,onChange:i?a("day"):void 0,segmentFactories:i?[X.fromString,H.fromString,R.fromString,z.fromString,E.fromString]:void 0}]}periods(e){const r=e=="quartz"||e=="spring",i=r?[{id:"q-second",value:[]}]:[],n=r?["second"]:[],a=r?"q-":"";return[...i,{id:a+"minute",value:[...n]},{id:a+"hour",value:["minute",...n]},{id:"day",value:["hour","minute",...n]},{id:"week",value:["dayOfWeek","hour","minute",...n]},{id:"month",value:["day","dayOfWeek","hour","minute",...n]},{id:"year",value:["month","day","dayOfWeek","hour","minute",...n]}]}}function Ke(t,e,r){const i=e.split(" ");if(i.length!==r.length)return;const n=r.filter((a,s)=>!["*","?"].includes(i[s])).map(a=>a.id);return t.find(a=>{const s=new Set(a.value);return n.every(o=>s.has(o))})}function Qe(t){const e=new Ge,r=t.locale??e.locale,i=t.format??e.format,{customLocale:n,fields:a=e.fields(i,r)}=t,s=t.initialValue??e.initialValue(a.length),o=Be(r,n),u=(t.periods??e.periods(i)).map(p=>({...p,text:p.text??o.getLocaleStr(p.id,T.Text)})),f=(t.initialPeriod?u.find(p=>p.id==t.initialPeriod):void 0)??Ke([...u].reverse(),s,a)??u[u.length-1],y=S(s),h=S(""),v=S(f),b=S(""),C=S(""),l=a.map(p=>Ye({field:new fe(p),locale:o,period:v})),c=new Map(l.map(p=>[p.id,p])),x=ne(()=>v.value.value.map(p=>{const g=c.get(p);if(Ze(g))return g;throw Error("${fieldId} not found")})),m=p=>{if(!p){y.value=ue(a.length);return}const g=p.split(" ");if(g.length!==a.length){h.value="invalid pattern";return}for(let w=0;w<g.length;w++)l[w].cron.value!=g[w]&&(l[w].cron.value=g[w]);h.value=""};m(s);const W=()=>{y.value=l.map(p=>v.value.value.includes(p.id)||p.cron.value=="?"?p.cron.value:"*").join(" ")},j=()=>{b.value=o.getLocaleStr(v.value.id,T.Prefix),C.value=o.getLocaleStr(v.value.id,T.Suffix)};return j(),k(y,m),k(v,()=>{W(),j()}),l.forEach((p,g)=>{k(p.cron,()=>{var w,O;(O=(w=a[g]).onChange)==null||O.call(w,p,{segmentMap:c}),W()}),k(p.error,w=>{h.value=w})}),{cron:y,error:h,segments:l,selected:x,period:{select:p=>{const g=u.map(w=>w.id).indexOf(p);g!=-1&&(v.value=u[g])},selected:v,items:u,prefix:b,suffix:C}}}function rt(t,{emit:e}){const r={...t,initialValue:t.modelValue,initialPeriod:t.period},i=Qe(r);return k(()=>t.modelValue,n=>{n&&(i.cron.value=n)}),k(()=>t.period,n=>{n&&i.period.select(n)}),k(i.cron,n=>{e("update:model-value",n)}),k(i.period.selected,n=>{e("update:period",n.id)}),k(i.error,n=>{e("error",n)}),i}const nt=()=>({modelValue:{type:String},period:{type:String},format:{type:String},locale:{type:String},fields:{type:Array},periods:{type:Array},customLocale:{type:Object},cols:{type:Object,default:()=>({second:5,minute:5,hour:4,day:4})},disabled:{type:Boolean,default:!1}});function _e(t){const{items:e}=t,r=new Set,i=S(0),n=()=>{i.value=i.value+1},a=u=>{e.indexOf(u)!=-1&&(r.add(u),n())},s=u=>r.has(u),o=u=>{r.delete(u)&&n()};return{values:r,add:a,toggle:u=>{s(u)?o(u):a(u)},remove:o,clear:()=>{r.clear(),n()},updated:i,equals:u=>{if(u.length!=r.size)return!1;for(const f of u)if(!r.has(f))return!1;return!0}}}function it(){return{modelValue:{type:[String,Number,Array]},selection:{type:String},clearable:{type:Boolean,default:!1},items:{type:Array,default:()=>[]},multiple:{type:Boolean,default:!1},cols:{type:Number,default:1},itemText:{type:[String,Function],default:"text"},itemValue:{type:[String,Function],default:"value"},disabled:{type:Boolean,default:!1}}}function et(t){const{items:e,cols:r=1,multiple:i=!1,itemText:n="text",itemValue:a="value"}=t,s=_e(t),o=i?S([]):S(null),u=S(""),f=x=>{i?s.toggle(x):(s.clear(),s.add(x))},y=x=>{if(x===null)return!1;const m=h(x);return Array.isArray(o.value)?o.value.includes(m):o.value===m},h=x=>typeof a=="function"?a(x):x[a],v=x=>typeof n=="function"?n(x):x[n],b=new Map(e.map(x=>[h(x),x])),C=x=>{s.equals(x)||(s.clear(),x.forEach(m=>f(m)))},l=x=>{x=Array.isArray(x)?x:[x];const m=x.map(W=>b.get(W)).filter(W=>!!W);C(m)};k(s.updated,()=>{const x=Array.from(s.values);o.value=i?x.map(h):h(x[0]),u.value=x.map(v).join(",")});const c=ne(()=>i?!Array.isArray(o.value)||o.value.length==0:!!o.value);return{...s,select:f,selected:o,selectedStr:u,itemRows:ve(e,r),setItems:C,setValues:l,isEmpty:c,has:y}}function at(t,e,{emit:r}){const i=et(t);return k(i.selected,()=>{r("update:model-value",i.selected.value)}),k(e,n=>{n&&i.setValues(n)},{immediate:!0}),i}export{rt as Z,nt as _,at as a,it as r};
